<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 21 Masking HR data | HR Analytics in R</title>
  <meta name="description" content="An open-source self-training book to assist you in your journey to sustainable HR Analytics" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 21 Masking HR data | HR Analytics in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://hranalyticslive.netlify.com/" />
  <meta property="og:image" content="https://hranalyticslive.netlify.com/images/hranalytics.jpg" />
  <meta property="og:description" content="An open-source self-training book to assist you in your journey to sustainable HR Analytics" />
  <meta name="github-repo" content="Hendrik147/HR_Analytics_in_R_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 21 Masking HR data | HR Analytics in R" />
  <meta name="twitter:site" content="@h_feddersen" />
  <meta name="twitter:description" content="An open-source self-training book to assist you in your journey to sustainable HR Analytics" />
  <meta name="twitter:image" content="https://hranalyticslive.netlify.com/images/hranalytics.jpg" />

<meta name="author" content="Chester Ismay, Albert Y. Kim and Hendrik Feddersen" />


<meta name="date" content="2020-10-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/logos/favicons/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/logos/favicons/favicon.ico" type="image/x-icon" />
<link rel="prev" href="20-job-classification.html"/>
<link rel="next" href="22-absenteeism-MFG.html"/>
<script src="libs/header-attrs-2.4.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to HR Analytics.live</a></li>
<li class="chapter" data-level="1" data-path="1-bash-does-not-work-for-me-on-windows-pc-i-am-purling-manually-.html"><a href="1-bash-does-not-work-for-me-on-windows-pc-i-am-purling-manually-.html"><i class="fa fa-check"></i><b>1</b> Bash does not work for me on Windows PC, I am purling manually.</a></li>
<li class="chapter" data-level="2" data-path="2-intro.html"><a href="2-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2-intro.html"><a href="2-intro.html#sec:intro-for-students"><i class="fa fa-check"></i><b>2.1</b> Introduction for students</a>
<ul>
<li class="chapter" data-level="" data-path="2-intro.html"><a href="2-intro.html#workingwithmaterials"><i class="fa fa-check"></i>Working with the material</a></li>
<li class="chapter" data-level="" data-path="2-intro.html"><a href="2-intro.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
<li class="chapter" data-level="2.1.1" data-path="2-intro.html"><a href="2-intro.html#subsec:learning-goals"><i class="fa fa-check"></i><b>2.1.1</b> What you will learn from this book</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-intro.html"><a href="2-intro.html#subsec:pipeline"><i class="fa fa-check"></i><b>2.1.2</b> Data/science pipeline</a></li>
<li class="chapter" data-level="2.1.3" data-path="2-intro.html"><a href="2-intro.html#subsec:reproducible"><i class="fa fa-check"></i><b>2.1.3</b> Reproducible research</a></li>
<li class="chapter" data-level="2.1.4" data-path="2-intro.html"><a href="2-intro.html#final-note-for-students"><i class="fa fa-check"></i><b>2.1.4</b> Final note for students</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-intro.html"><a href="2-intro.html#sec:intro-instructors"><i class="fa fa-check"></i><b>2.2</b> Introduction for instructors</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="2-intro.html"><a href="2-intro.html#who-is-this-book-for"><i class="fa fa-check"></i><b>2.2.1</b> Who is this book for?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-intro.html"><a href="2-intro.html#sec:connect-contribute"><i class="fa fa-check"></i><b>2.3</b> Connect and contribute</a></li>
<li class="chapter" data-level="2.4" data-path="2-intro.html"><a href="2-intro.html#sec:about-book"><i class="fa fa-check"></i><b>2.4</b> About this book</a></li>
<li class="chapter" data-level="2.5" data-path="2-intro.html"><a href="2-intro.html#sec:about-authors"><i class="fa fa-check"></i><b>2.5</b> About the author</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-getting-started.html"><a href="3-getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started with Data in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3-getting-started.html"><a href="3-getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>3.1</b> What are R and RStudio?</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="3-getting-started.html"><a href="3-getting-started.html#installing"><i class="fa fa-check"></i><b>3.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-getting-started.html"><a href="3-getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>3.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-getting-started.html"><a href="3-getting-started.html#code"><i class="fa fa-check"></i><b>3.2</b> How do I code in R?</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="3-getting-started.html"><a href="3-getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>3.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-getting-started.html"><a href="3-getting-started.html#messages"><i class="fa fa-check"></i><b>3.2.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-getting-started.html"><a href="3-getting-started.html#tips-code"><i class="fa fa-check"></i><b>3.2.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-getting-started.html"><a href="3-getting-started.html#packages"><i class="fa fa-check"></i><b>3.3</b> What are R packages?</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3-getting-started.html"><a href="3-getting-started.html#package-installation"><i class="fa fa-check"></i><b>3.3.1</b> Package installation</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-getting-started.html"><a href="3-getting-started.html#package-loading"><i class="fa fa-check"></i><b>3.3.2</b> Package loading</a></li>
<li class="chapter" data-level="3.3.3" data-path="3-getting-started.html"><a href="3-getting-started.html#package-use"><i class="fa fa-check"></i><b>3.3.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-getting-started.html"><a href="3-getting-started.html#nycflights13"><i class="fa fa-check"></i><b>3.4</b> Explore your first datasets</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="3-getting-started.html"><a href="3-getting-started.html#nycflights13-package"><i class="fa fa-check"></i><b>3.4.1</b> <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="3.4.2" data-path="3-getting-started.html"><a href="3-getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>3.4.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="3.4.3" data-path="3-getting-started.html"><a href="3-getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>3.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="3.4.4" data-path="3-getting-started.html"><a href="3-getting-started.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>3.4.4</b> Identification and measurement variables</a></li>
<li class="chapter" data-level="3.4.5" data-path="3-getting-started.html"><a href="3-getting-started.html#help-files"><i class="fa fa-check"></i><b>3.4.5</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3-getting-started.html"><a href="3-getting-started.html#conclusion"><i class="fa fa-check"></i><b>3.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="3-getting-started.html"><a href="3-getting-started.html#additional-resources"><i class="fa fa-check"></i><b>3.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="3.5.2" data-path="3-getting-started.html"><a href="3-getting-started.html#whats-to-come"><i class="fa fa-check"></i><b>3.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Science with tidyverse</b></span></li>
<li class="chapter" data-level="4" data-path="4-viz.html"><a href="4-viz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="4-viz.html"><a href="4-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-viz.html"><a href="4-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>4.1</b> The grammar of graphics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="4-viz.html"><a href="4-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>4.1.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-viz.html"><a href="4-viz.html#gapminder"><i class="fa fa-check"></i><b>4.1.2</b> Gapminder data</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-viz.html"><a href="4-viz.html#other-components"><i class="fa fa-check"></i><b>4.1.3</b> Other components</a></li>
<li class="chapter" data-level="4.1.4" data-path="4-viz.html"><a href="4-viz.html#ggplot2-package"><i class="fa fa-check"></i><b>4.1.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-viz.html"><a href="4-viz.html#FiveNG"><i class="fa fa-check"></i><b>4.2</b> Five named graphs - the 5NG</a></li>
<li class="chapter" data-level="4.3" data-path="4-viz.html"><a href="4-viz.html#scatterplots"><i class="fa fa-check"></i><b>4.3</b> 5NG#1: Scatterplots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="4-viz.html"><a href="4-viz.html#geompoint"><i class="fa fa-check"></i><b>4.3.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="4-viz.html"><a href="4-viz.html#overplotting"><i class="fa fa-check"></i><b>4.3.2</b> Overplotting</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-viz.html"><a href="4-viz.html#summary"><i class="fa fa-check"></i><b>4.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-viz.html"><a href="4-viz.html#linegraphs"><i class="fa fa-check"></i><b>4.4</b> 5NG#2: Linegraphs</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="4-viz.html"><a href="4-viz.html#geomline"><i class="fa fa-check"></i><b>4.4.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="4.4.2" data-path="4-viz.html"><a href="4-viz.html#summary-1"><i class="fa fa-check"></i><b>4.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-viz.html"><a href="4-viz.html#histograms"><i class="fa fa-check"></i><b>4.5</b> 5NG#3: Histograms</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="4-viz.html"><a href="4-viz.html#geomhistogram"><i class="fa fa-check"></i><b>4.5.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="4-viz.html"><a href="4-viz.html#adjustbins"><i class="fa fa-check"></i><b>4.5.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="4.5.3" data-path="4-viz.html"><a href="4-viz.html#summary-2"><i class="fa fa-check"></i><b>4.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="4-viz.html"><a href="4-viz.html#facets"><i class="fa fa-check"></i><b>4.6</b> Facets</a></li>
<li class="chapter" data-level="4.7" data-path="4-viz.html"><a href="4-viz.html#boxplots"><i class="fa fa-check"></i><b>4.7</b> 5NG#4: Boxplots</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="4-viz.html"><a href="4-viz.html#geomboxplot"><i class="fa fa-check"></i><b>4.7.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="4-viz.html"><a href="4-viz.html#summary-3"><i class="fa fa-check"></i><b>4.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="4-viz.html"><a href="4-viz.html#geombar"><i class="fa fa-check"></i><b>4.8</b> 5NG#5: Barplots</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="4-viz.html"><a href="4-viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>4.8.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="4.8.2" data-path="4-viz.html"><a href="4-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>4.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="4.8.3" data-path="4-viz.html"><a href="4-viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>4.8.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="4.8.4" data-path="4-viz.html"><a href="4-viz.html#summary-4"><i class="fa fa-check"></i><b>4.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="4-viz.html"><a href="4-viz.html#data-vis-conclusion"><i class="fa fa-check"></i><b>4.9</b> Conclusion</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="4-viz.html"><a href="4-viz.html#summary-table"><i class="fa fa-check"></i><b>4.9.1</b> Summary table</a></li>
<li class="chapter" data-level="4.9.2" data-path="4-viz.html"><a href="4-viz.html#function-argument-specification"><i class="fa fa-check"></i><b>4.9.2</b> Function argument specification</a></li>
<li class="chapter" data-level="4.9.3" data-path="4-viz.html"><a href="4-viz.html#additional-resources-1"><i class="fa fa-check"></i><b>4.9.3</b> Additional resources</a></li>
<li class="chapter" data-level="4.9.4" data-path="4-viz.html"><a href="4-viz.html#whats-to-come-3"><i class="fa fa-check"></i><b>4.9.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-wrangling.html"><a href="5-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="5-wrangling.html"><a href="5-wrangling.html#wrangling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-wrangling.html"><a href="5-wrangling.html#piping"><i class="fa fa-check"></i><b>5.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="5.2" data-path="5-wrangling.html"><a href="5-wrangling.html#filter"><i class="fa fa-check"></i><b>5.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="5.3" data-path="5-wrangling.html"><a href="5-wrangling.html#summarize"><i class="fa fa-check"></i><b>5.3</b> <code>summarize</code> variables</a></li>
<li class="chapter" data-level="5.4" data-path="5-wrangling.html"><a href="5-wrangling.html#groupby"><i class="fa fa-check"></i><b>5.4</b> <code>group_by</code> rows</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="5-wrangling.html"><a href="5-wrangling.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>5.4.1</b> Grouping by more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-wrangling.html"><a href="5-wrangling.html#mutate"><i class="fa fa-check"></i><b>5.5</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="5.6" data-path="5-wrangling.html"><a href="5-wrangling.html#arrange"><i class="fa fa-check"></i><b>5.6</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="5.7" data-path="5-wrangling.html"><a href="5-wrangling.html#joins"><i class="fa fa-check"></i><b>5.7</b> <code>join</code> data frames</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="5-wrangling.html"><a href="5-wrangling.html#matching-key-variable-names"><i class="fa fa-check"></i><b>5.7.1</b> Matching “key” variable names</a></li>
<li class="chapter" data-level="5.7.2" data-path="5-wrangling.html"><a href="5-wrangling.html#diff-key"><i class="fa fa-check"></i><b>5.7.2</b> Different “key” variable names</a></li>
<li class="chapter" data-level="5.7.3" data-path="5-wrangling.html"><a href="5-wrangling.html#multiple-key-variables"><i class="fa fa-check"></i><b>5.7.3</b> Multiple “key” variables</a></li>
<li class="chapter" data-level="5.7.4" data-path="5-wrangling.html"><a href="5-wrangling.html#normal-forms"><i class="fa fa-check"></i><b>5.7.4</b> Normal forms</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="5-wrangling.html"><a href="5-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>5.8</b> Other verbs</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="5-wrangling.html"><a href="5-wrangling.html#select"><i class="fa fa-check"></i><b>5.8.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="5.8.2" data-path="5-wrangling.html"><a href="5-wrangling.html#rename"><i class="fa fa-check"></i><b>5.8.2</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="5.8.3" data-path="5-wrangling.html"><a href="5-wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>5.8.3</b> <code>top_n</code> values of a variable</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="5-wrangling.html"><a href="5-wrangling.html#wrangling-conclusion"><i class="fa fa-check"></i><b>5.9</b> Conclusion</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="5-wrangling.html"><a href="5-wrangling.html#summary-table-1"><i class="fa fa-check"></i><b>5.9.1</b> Summary table</a></li>
<li class="chapter" data-level="5.9.2" data-path="5-wrangling.html"><a href="5-wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>5.9.2</b> Additional resources</a></li>
<li class="chapter" data-level="5.9.3" data-path="5-wrangling.html"><a href="5-wrangling.html#whats-to-come-1"><i class="fa fa-check"></i><b>5.9.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-tidy.html"><a href="6-tidy.html"><i class="fa fa-check"></i><b>6</b> Data Importing and “Tidy” Data</a>
<ul>
<li class="chapter" data-level="" data-path="6-tidy.html"><a href="6-tidy.html#tidy-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-tidy.html"><a href="6-tidy.html#csv"><i class="fa fa-check"></i><b>6.1</b> Importing data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="6-tidy.html"><a href="6-tidy.html#using-the-console"><i class="fa fa-check"></i><b>6.1.1</b> Using the console</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-tidy.html"><a href="6-tidy.html#using-rstudios-interface"><i class="fa fa-check"></i><b>6.1.2</b> Using RStudio’s interface</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-tidy.html"><a href="6-tidy.html#tidy-data-ex"><i class="fa fa-check"></i><b>6.2</b> “Tidy” data</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="6-tidy.html"><a href="6-tidy.html#tidy-definition"><i class="fa fa-check"></i><b>6.2.1</b> Definition of “tidy” data</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-tidy.html"><a href="6-tidy.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>6.2.2</b> Converting to “tidy” data</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-tidy.html"><a href="6-tidy.html#nycflights13-package-1"><i class="fa fa-check"></i><b>6.2.3</b> <code>nycflights13</code> package</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-tidy.html"><a href="6-tidy.html#case-study-tidy"><i class="fa fa-check"></i><b>6.3</b> Case study: Democracy in Guatemala</a></li>
<li class="chapter" data-level="6.4" data-path="6-tidy.html"><a href="6-tidy.html#tidyverse-package"><i class="fa fa-check"></i><b>6.4</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="6.5" data-path="6-tidy.html"><a href="6-tidy.html#tidy-data-conclusion"><i class="fa fa-check"></i><b>6.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="6-tidy.html"><a href="6-tidy.html#additional-resources-3"><i class="fa fa-check"></i><b>6.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="6.5.2" data-path="6-tidy.html"><a href="6-tidy.html#whats-to-come-2"><i class="fa fa-check"></i><b>6.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Modeling with moderndive</b></span></li>
<li class="chapter" data-level="7" data-path="7-regression.html"><a href="7-regression.html"><i class="fa fa-check"></i><b>7</b> Basic Regression</a>
<ul>
<li class="chapter" data-level="" data-path="7-regression.html"><a href="7-regression.html#reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-regression.html"><a href="7-regression.html#model1"><i class="fa fa-check"></i><b>7.1</b> One numerical explanatory variable</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="7-regression.html"><a href="7-regression.html#model1EDA"><i class="fa fa-check"></i><b>7.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-regression.html"><a href="7-regression.html#model1table"><i class="fa fa-check"></i><b>7.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-regression.html"><a href="7-regression.html#model1points"><i class="fa fa-check"></i><b>7.1.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-regression.html"><a href="7-regression.html#model2"><i class="fa fa-check"></i><b>7.2</b> One categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="7-regression.html"><a href="7-regression.html#model2EDA"><i class="fa fa-check"></i><b>7.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-regression.html"><a href="7-regression.html#model2table"><i class="fa fa-check"></i><b>7.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-regression.html"><a href="7-regression.html#model2points"><i class="fa fa-check"></i><b>7.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-regression.html"><a href="7-regression.html#reg-related-topics"><i class="fa fa-check"></i><b>7.3</b> Related topics</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="7-regression.html"><a href="7-regression.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>7.3.1</b> Correlation is not necessarily causation</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-regression.html"><a href="7-regression.html#leastsquares"><i class="fa fa-check"></i><b>7.3.2</b> Best-fitting line</a></li>
<li class="chapter" data-level="7.3.3" data-path="7-regression.html"><a href="7-regression.html#underthehood"><i class="fa fa-check"></i><b>7.3.3</b> <code>get_regression_x()</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-regression.html"><a href="7-regression.html#reg-conclusion"><i class="fa fa-check"></i><b>7.4</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="7-regression.html"><a href="7-regression.html#additional-resources-basic-regression"><i class="fa fa-check"></i><b>7.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="7.4.2" data-path="7-regression.html"><a href="7-regression.html#whats-to-come-4"><i class="fa fa-check"></i><b>7.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html"><i class="fa fa-check"></i><b>8</b> Multiple Regression</a>
<ul>
<li class="chapter" data-level="" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#mult-reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="8.1" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model4"><i class="fa fa-check"></i><b>8.1</b> One numerical and one categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>8.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>8.1.2</b> Interaction model</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>8.1.3</b> Parallel slopes model</a></li>
<li class="chapter" data-level="8.1.4" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>8.1.4</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model3"><i class="fa fa-check"></i><b>8.2</b> Two numerical explanatory variables</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>8.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>8.2.2</b> Regression plane</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>8.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#mult-reg-related-topics"><i class="fa fa-check"></i><b>8.3</b> Related topics</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#model-selection"><i class="fa fa-check"></i><b>8.3.1</b> Model selection</a></li>
<li class="chapter" data-level="8.3.2" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>8.3.2</b> Correlation coefficient</a></li>
<li class="chapter" data-level="8.3.3" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>8.3.3</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#mult-reg-conclusion"><i class="fa fa-check"></i><b>8.4</b> Conclusion</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#additional-resources-4"><i class="fa fa-check"></i><b>8.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="8.4.2" data-path="8-multiple-regression.html"><a href="8-multiple-regression.html#whats-to-come-5"><i class="fa fa-check"></i><b>8.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Statistical Inference with infer</b></span></li>
<li class="chapter" data-level="9" data-path="9-sampling.html"><a href="9-sampling.html"><i class="fa fa-check"></i><b>9</b> Sampling</a>
<ul>
<li class="chapter" data-level="" data-path="9-sampling.html"><a href="9-sampling.html#sampling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="9.1" data-path="9-sampling.html"><a href="9-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>9.1</b> Sampling bowl activity</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="9-sampling.html"><a href="9-sampling.html#what-proportion-of-this-bowls-balls-are-red"><i class="fa fa-check"></i><b>9.1.1</b> What proportion of this bowl’s balls are red?</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-sampling.html"><a href="9-sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>9.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-sampling.html"><a href="9-sampling.html#student-shovels"><i class="fa fa-check"></i><b>9.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="9.1.4" data-path="9-sampling.html"><a href="9-sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>9.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-sampling.html"><a href="9-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>9.2</b> Virtual sampling</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="9-sampling.html"><a href="9-sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>9.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-sampling.html"><a href="9-sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>9.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="9.2.3" data-path="9-sampling.html"><a href="9-sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>9.2.3</b> Using the virtual shovel 1000 times</a></li>
<li class="chapter" data-level="9.2.4" data-path="9-sampling.html"><a href="9-sampling.html#different-shovels"><i class="fa fa-check"></i><b>9.2.4</b> Using different shovels</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="9-sampling.html"><a href="9-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>9.3</b> Sampling framework</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="9-sampling.html"><a href="9-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>9.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="9.3.2" data-path="9-sampling.html"><a href="9-sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>9.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="9.3.3" data-path="9-sampling.html"><a href="9-sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>9.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="9-sampling.html"><a href="9-sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>9.4</b> Case study: Polls</a></li>
<li class="chapter" data-level="9.5" data-path="9-sampling.html"><a href="9-sampling.html#sampling-conclusion"><i class="fa fa-check"></i><b>9.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="9-sampling.html"><a href="9-sampling.html#sampling-conclusion-table"><i class="fa fa-check"></i><b>9.5.1</b> Sampling scenarios</a></li>
<li class="chapter" data-level="9.5.2" data-path="9-sampling.html"><a href="9-sampling.html#sampling-conclusion-central-limit-theorem"><i class="fa fa-check"></i><b>9.5.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="9.5.3" data-path="9-sampling.html"><a href="9-sampling.html#additional-resources-5"><i class="fa fa-check"></i><b>9.5.3</b> Additional resources</a></li>
<li class="chapter" data-level="9.5.4" data-path="9-sampling.html"><a href="9-sampling.html#whats-to-come-6"><i class="fa fa-check"></i><b>9.5.4</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html"><i class="fa fa-check"></i><b>10</b> Bootstrapping and Confidence Intervals</a>
<ul>
<li class="chapter" data-level="" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#CI-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>10.1</b> Pennies activity</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>10.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>10.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>10.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="10.1.4" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#what-did-we-just-do-1"><i class="fa fa-check"></i><b>10.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>10.2</b> Computer simulation of resampling</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#virtually-resampling-once"><i class="fa fa-check"></i><b>10.2.1</b> Virtually resampling once</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>10.2.2</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>10.2.3</b> Virtually resampling 1000 times</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>10.3</b> Understanding confidence intervals</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>10.3.1</b> Percentile method</a></li>
<li class="chapter" data-level="10.3.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>10.3.2</b> Standard error method</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>10.4</b> Constructing confidence intervals</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#original-workflow"><i class="fa fa-check"></i><b>10.4.1</b> Original workflow</a></li>
<li class="chapter" data-level="10.4.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#infer-workflow"><i class="fa fa-check"></i><b>10.4.2</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="10.4.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#percentile-method-infer"><i class="fa fa-check"></i><b>10.4.3</b> Percentile method with <code>infer</code></a></li>
<li class="chapter" data-level="10.4.4" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#infer-se"><i class="fa fa-check"></i><b>10.4.4</b> Standard error method with <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>10.5</b> Interpreting confidence intervals</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#ilyas-yohan"><i class="fa fa-check"></i><b>10.5.1</b> Did the net capture the fish?</a></li>
<li class="chapter" data-level="10.5.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#shorthand"><i class="fa fa-check"></i><b>10.5.2</b> Precise and shorthand interpretation</a></li>
<li class="chapter" data-level="10.5.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>10.5.3</b> Width of confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>10.6</b> Case study: Is yawning contagious?</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>10.6.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="10.6.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>10.6.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="10.6.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>10.6.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="10.6.4" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#interpreting-the-confidence-interval"><i class="fa fa-check"></i><b>10.6.4</b> Interpreting the confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>10.7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>10.7.1</b> Comparing bootstrap and sampling distributions</a></li>
<li class="chapter" data-level="10.7.2" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#theory-ci"><i class="fa fa-check"></i><b>10.7.2</b> Theory-based confidence intervals</a></li>
<li class="chapter" data-level="10.7.3" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#additional-resources-6"><i class="fa fa-check"></i><b>10.7.3</b> Additional resources</a></li>
<li class="chapter" data-level="10.7.4" data-path="10-confidence-intervals.html"><a href="10-confidence-intervals.html#whats-to-come-7"><i class="fa fa-check"></i><b>10.7.4</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html"><i class="fa fa-check"></i><b>11</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#nhst-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="11.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#ht-activity"><i class="fa fa-check"></i><b>11.1</b> Promotions activity</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#does-gender-affect-promotions-at-a-bank"><i class="fa fa-check"></i><b>11.1.1</b> Does gender affect promotions at a bank?</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#shuffling-once"><i class="fa fa-check"></i><b>11.1.2</b> Shuffling once</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#shuffling-16-times"><i class="fa fa-check"></i><b>11.1.3</b> Shuffling 16 times</a></li>
<li class="chapter" data-level="11.1.4" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#what-did-we-just-do-2"><i class="fa fa-check"></i><b>11.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#understanding-ht"><i class="fa fa-check"></i><b>11.2</b> Understanding hypothesis tests</a></li>
<li class="chapter" data-level="11.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#ht-infer"><i class="fa fa-check"></i><b>11.3</b> Conducting hypothesis tests</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#infer-workflow-ht"><i class="fa fa-check"></i><b>11.3.1</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#comparing-infer-workflows"><i class="fa fa-check"></i><b>11.3.2</b> Comparison with confidence intervals</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#only-one-test"><i class="fa fa-check"></i><b>11.3.3</b> “There is only one test”</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#ht-interpretation"><i class="fa fa-check"></i><b>11.4</b> Interpreting hypothesis tests</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>11.4.1</b> Two possible outcomes</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#types-of-errors"><i class="fa fa-check"></i><b>11.4.2</b> Types of errors</a></li>
<li class="chapter" data-level="11.4.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#choosing-alpha"><i class="fa fa-check"></i><b>11.4.3</b> How do we choose alpha?</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#ht-case-study"><i class="fa fa-check"></i><b>11.5</b> Case study: Are action or romance movies rated higher?</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#imdb-data"><i class="fa fa-check"></i><b>11.5.1</b> IMDb ratings data</a></li>
<li class="chapter" data-level="11.5.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#sampling-scenario-1"><i class="fa fa-check"></i><b>11.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="11.5.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#conducting-the-hypothesis-test"><i class="fa fa-check"></i><b>11.5.3</b> Conducting the hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#nhst-conclusion"><i class="fa fa-check"></i><b>11.6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>11.6.1</b> Theory-based hypothesis tests</a></li>
<li class="chapter" data-level="11.6.2" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#when-inference-is-not-needed"><i class="fa fa-check"></i><b>11.6.2</b> When inference is not needed</a></li>
<li class="chapter" data-level="11.6.3" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#problems-with-p-values"><i class="fa fa-check"></i><b>11.6.3</b> Problems with p-values</a></li>
<li class="chapter" data-level="11.6.4" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#additional-resources-7"><i class="fa fa-check"></i><b>11.6.4</b> Additional resources</a></li>
<li class="chapter" data-level="11.6.5" data-path="11-hypothesis-testing.html"><a href="11-hypothesis-testing.html#whats-to-come-8"><i class="fa fa-check"></i><b>11.6.5</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html"><i class="fa fa-check"></i><b>12</b> Inference for Regression</a>
<ul>
<li class="chapter" data-level="" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#inf-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="12.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-refresher"><i class="fa fa-check"></i><b>12.1</b> Regression refresher</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#teaching-evaluations-analysis"><i class="fa fa-check"></i><b>12.1.1</b> Teaching evaluations analysis</a></li>
<li class="chapter" data-level="12.1.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#sampling-scenario-2"><i class="fa fa-check"></i><b>12.1.2</b> Sampling scenario</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-interp"><i class="fa fa-check"></i><b>12.2</b> Interpreting regression tables</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-se"><i class="fa fa-check"></i><b>12.2.1</b> Standard error</a></li>
<li class="chapter" data-level="12.2.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-test-statistic"><i class="fa fa-check"></i><b>12.2.2</b> Test statistic</a></li>
<li class="chapter" data-level="12.2.3" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#p-value"><i class="fa fa-check"></i><b>12.2.3</b> p-value</a></li>
<li class="chapter" data-level="12.2.4" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#confidence-interval"><i class="fa fa-check"></i><b>12.2.4</b> Confidence interval</a></li>
<li class="chapter" data-level="12.2.5" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-table-computation"><i class="fa fa-check"></i><b>12.2.5</b> How does R compute the table?</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#regression-conditions"><i class="fa fa-check"></i><b>12.3</b> Conditions for inference for regression</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#residuals-refresher"><i class="fa fa-check"></i><b>12.3.1</b> Residuals refresher</a></li>
<li class="chapter" data-level="12.3.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#linearity-of-relationship"><i class="fa fa-check"></i><b>12.3.2</b> Linearity of relationship</a></li>
<li class="chapter" data-level="12.3.3" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#independence-of-residuals"><i class="fa fa-check"></i><b>12.3.3</b> Independence of residuals</a></li>
<li class="chapter" data-level="12.3.4" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#normality-of-residuals"><i class="fa fa-check"></i><b>12.3.4</b> Normality of residuals</a></li>
<li class="chapter" data-level="12.3.5" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#equality-of-variance"><i class="fa fa-check"></i><b>12.3.5</b> Equality of variance</a></li>
<li class="chapter" data-level="12.3.6" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#what-is-the-conclusion"><i class="fa fa-check"></i><b>12.3.6</b> What’s the conclusion?</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#infer-regression"><i class="fa fa-check"></i><b>12.4</b> Simulation-based inference for regression</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#confidence-interval-for-slope"><i class="fa fa-check"></i><b>12.4.1</b> Confidence interval for slope</a></li>
<li class="chapter" data-level="12.4.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#hypothesis-test-for-slope"><i class="fa fa-check"></i><b>12.4.2</b> Hypothesis test for slope</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#inference-conclusion"><i class="fa fa-check"></i><b>12.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#theory-regression"><i class="fa fa-check"></i><b>12.5.1</b> Theory-based inference for regression</a></li>
<li class="chapter" data-level="12.5.2" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#summary-of-statistical-inference"><i class="fa fa-check"></i><b>12.5.2</b> Summary of statistical inference</a></li>
<li class="chapter" data-level="12.5.3" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#additional-resources-8"><i class="fa fa-check"></i><b>12.5.3</b> Additional resources</a></li>
<li class="chapter" data-level="12.5.4" data-path="12-inference-for-regression.html"><a href="12-inference-for-regression.html#whats-to-come-9"><i class="fa fa-check"></i><b>12.5.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="13" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html"><i class="fa fa-check"></i><b>13</b> Tell Your Story with Data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#review"><i class="fa fa-check"></i><b>13.1</b> Review</a>
<ul>
<li class="chapter" data-level="" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#story-packages"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#seattle-house-prices"><i class="fa fa-check"></i><b>13.2</b> Case study: Seattle house prices</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#house-prices-EDA-I"><i class="fa fa-check"></i><b>13.2.1</b> Exploratory data analysis: Part I</a></li>
<li class="chapter" data-level="13.2.2" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#house-prices-EDA-II"><i class="fa fa-check"></i><b>13.2.2</b> Exploratory data analysis: Part II</a></li>
<li class="chapter" data-level="13.2.3" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#house-prices-regression"><i class="fa fa-check"></i><b>13.2.3</b> Regression modeling</a></li>
<li class="chapter" data-level="13.2.4" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#house-prices-making-predictions"><i class="fa fa-check"></i><b>13.2.4</b> Making predictions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#data-journalism"><i class="fa fa-check"></i><b>13.3</b> Case study: Effective data storytelling</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#bechdel-test-for-hollywood-gender-representation"><i class="fa fa-check"></i><b>13.3.1</b> Bechdel test for Hollywood gender representation</a></li>
<li class="chapter" data-level="13.3.2" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#us-births-in-1999"><i class="fa fa-check"></i><b>13.3.2</b> US Births in 1999</a></li>
<li class="chapter" data-level="13.3.3" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#scripts-of-r-code"><i class="fa fa-check"></i><b>13.3.3</b> Scripts of R code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="13-thinking-with-data.html"><a href="13-thinking-with-data.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="part"><span><b>V HR Analytics practical examples</b></span></li>
<li class="chapter" data-level="14" data-path="14-pay-gap.html"><a href="14-pay-gap.html"><i class="fa fa-check"></i><b>14</b> Gender Pay Gap</a>
<ul>
<li class="chapter" data-level="14.1" data-path="14-pay-gap.html"><a href="14-pay-gap.html#data-cleaning-and-prep."><i class="fa fa-check"></i><b>14.1</b> Data Cleaning and Prep.</a></li>
<li class="chapter" data-level="14.2" data-path="14-pay-gap.html"><a href="14-pay-gap.html#summary-statistics-by-gender"><i class="fa fa-check"></i><b>14.2</b> Summary Statistics by gender</a></li>
<li class="chapter" data-level="14.3" data-path="14-pay-gap.html"><a href="14-pay-gap.html#avoiding-simpsons-paradox"><i class="fa fa-check"></i><b>14.3</b> Avoiding Simpson’s Paradox</a></li>
<li class="chapter" data-level="14.4" data-path="14-pay-gap.html"><a href="14-pay-gap.html#model-estimation-ols-with-controls."><i class="fa fa-check"></i><b>14.4</b> Model Estimation: OLS with controls.</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="14-pay-gap.html"><a href="14-pay-gap.html#logarithm-of-base-pay"><i class="fa fa-check"></i><b>14.4.1</b> Logarithm of Base Pay</a></li>
<li class="chapter" data-level="14.4.2" data-path="14-pay-gap.html"><a href="14-pay-gap.html#results-by-department"><i class="fa fa-check"></i><b>14.4.2</b> Results by Department</a></li>
<li class="chapter" data-level="14.4.3" data-path="14-pay-gap.html"><a href="14-pay-gap.html#results-by-job-title"><i class="fa fa-check"></i><b>14.4.3</b> Results by Job Title</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-stop-appraisals.html"><a href="15-stop-appraisals.html"><i class="fa fa-check"></i><b>15</b> Stop appraisals</a></li>
<li class="chapter" data-level="16" data-path="16-service-desk.html"><a href="16-service-desk.html"><i class="fa fa-check"></i><b>16</b> HR Service Desk</a></li>
<li class="chapter" data-level="17" data-path="17-personality.html"><a href="17-personality.html"><i class="fa fa-check"></i><b>17</b> Personality insights</a></li>
<li class="chapter" data-level="18" data-path="18-commuting-time.html"><a href="18-commuting-time.html"><i class="fa fa-check"></i><b>18</b> Commuting time</a></li>
<li class="chapter" data-level="19" data-path="19-orgnisational-network.html"><a href="19-orgnisational-network.html"><i class="fa fa-check"></i><b>19</b> Organisational network analysis</a></li>
<li class="chapter" data-level="20" data-path="20-job-classification.html"><a href="20-job-classification.html"><i class="fa fa-check"></i><b>20</b> Job classification analysis</a>
<ul>
<li class="chapter" data-level="20.0.1" data-path="20-job-classification.html"><a href="20-job-classification.html#final-evaluation-of-the-various-models"><i class="fa fa-check"></i><b>20.0.1</b> Final evaluation of the various models</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="21-masking-data.html"><a href="21-masking-data.html"><i class="fa fa-check"></i><b>21</b> Masking HR data</a>
<ul>
<li class="chapter" data-level="21.0.1" data-path="21-masking-data.html"><a href="21-masking-data.html#whitehouse-dataset"><i class="fa fa-check"></i><b>21.0.1</b> Whitehouse dataset</a></li>
<li class="chapter" data-level="21.0.2" data-path="21-masking-data.html"><a href="21-masking-data.html#fertility-dataset"><i class="fa fa-check"></i><b>21.0.2</b> Fertility dataset</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="22-absenteeism-MFG.html"><a href="22-absenteeism-MFG.html"><i class="fa fa-check"></i><b>22</b> Absenteeism in manufacturing</a>
<ul>
<li class="chapter" data-level="22.0.1" data-path="22-absenteeism-MFG.html"><a href="22-absenteeism-MFG.html#for-expediency-we-will-delete-the-problem-records-in-the-dataset."><i class="fa fa-check"></i><b>22.0.1</b> For expediency we will delete the problem records in the dataset.</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html"><i class="fa fa-check"></i><b>23</b> Absenteeism at work</a>
<ul>
<li class="chapter" data-level="23.1" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#data-reading"><i class="fa fa-check"></i><b>23.1</b> Data reading</a></li>
<li class="chapter" data-level="23.2" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#basic-statistics-and-data-preparation"><i class="fa fa-check"></i><b>23.2</b> Basic statistics and data preparation</a></li>
<li class="chapter" data-level="23.3" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#data-exploration"><i class="fa fa-check"></i><b>23.3</b> Data exploration</a></li>
<li class="chapter" data-level="23.4" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#some-more-digging-into-the-data"><i class="fa fa-check"></i><b>23.4</b> Some more digging into the data</a></li>
<li class="chapter" data-level="23.5" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#here-the-various-types-of-reasons-for-absence-attribute-is-analysed"><i class="fa fa-check"></i><b>23.5</b> Here the various types of reasons for absence attribute is analysed</a></li>
<li class="chapter" data-level="23.6" data-path="23-absenteeism-work.html"><a href="23-absenteeism-work.html#principal-component-analysis-pca"><i class="fa fa-check"></i><b>23.6</b> Principal component analysis (PCA)</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="24-accidents-work.html"><a href="24-accidents-work.html"><i class="fa fa-check"></i><b>24</b> Accidents at work</a></li>
<li class="chapter" data-level="25" data-path="25-attrition.html"><a href="25-attrition.html"><i class="fa fa-check"></i><b>25</b> Attrition</a></li>
<li class="chapter" data-level="26" data-path="26-interview-attendance.html"><a href="26-interview-attendance.html"><i class="fa fa-check"></i><b>26</b> Interview attendance problem</a>
<ul>
<li class="chapter" data-level="26.1" data-path="26-interview-attendance.html"><a href="26-interview-attendance.html#data-reading-1"><i class="fa fa-check"></i><b>26.1</b> Data reading</a></li>
<li class="chapter" data-level="26.2" data-path="26-interview-attendance.html"><a href="26-interview-attendance.html#data-cleaning"><i class="fa fa-check"></i><b>26.2</b> Data cleaning</a></li>
<li class="chapter" data-level="26.3" data-path="26-interview-attendance.html"><a href="26-interview-attendance.html#choosing-a-model"><i class="fa fa-check"></i><b>26.3</b> Choosing a model</a></li>
<li class="chapter" data-level="26.4" data-path="26-interview-attendance.html"><a href="26-interview-attendance.html#training"><i class="fa fa-check"></i><b>26.4</b> Training</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="27-ranking-medical-school.html"><a href="27-ranking-medical-school.html"><i class="fa fa-check"></i><b>27</b> Ranking Medical Schools</a></li>
<li class="chapter" data-level="28" data-path="28-webscraping-linkedin.html"><a href="28-webscraping-linkedin.html"><i class="fa fa-check"></i><b>28</b> Webscraping LinkedIn</a></li>
<li class="chapter" data-level="29" data-path="29-flexdashboards.html"><a href="29-flexdashboards.html"><i class="fa fa-check"></i><b>29</b> HR dashboards</a></li>
<li class="chapter" data-level="30" data-path="30-data-science-product.html"><a href="30-data-science-product.html"><i class="fa fa-check"></i><b>30</b> HR Analytics product with Shiny</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendixA.html"><a href="A-appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a>
<ul>
<li class="chapter" data-level="A.1" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-stat-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="A-appendixA.html"><a href="A-appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-appendixA.html"><a href="A-appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-appendixA.html"><a href="A-appendixA.html#standard-deviation"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-appendixA.html"><a href="A-appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="A-appendixA.html"><a href="A-appendixA.html#distribution"><i class="fa fa-check"></i><b>A.1.5</b> Distribution</a></li>
<li class="chapter" data-level="A.1.6" data-path="A-appendixA.html"><a href="A-appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.6</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-normal-curve"><i class="fa fa-check"></i><b>A.2</b> Normal distribution</a></li>
<li class="chapter" data-level="A.3" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-log10-transformations"><i class="fa fa-check"></i><b>A.3</b> log10 transformations</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-appendixB.html"><a href="B-appendixB.html"><i class="fa fa-check"></i><b>B</b> Inference Examples</a>
<ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="B.1" data-path="B-appendixB.html"><a href="B-appendixB.html#inference-mind-map"><i class="fa fa-check"></i><b>B.1</b> Inference mind map</a></li>
<li class="chapter" data-level="B.2" data-path="B-appendixB.html"><a href="B-appendixB.html#one-mean"><i class="fa fa-check"></i><b>B.2</b> One mean</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement"><i class="fa fa-check"></i><b>B.2.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.2.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses"><i class="fa fa-check"></i><b>B.2.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.2.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data"><i class="fa fa-check"></i><b>B.2.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.2.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods"><i class="fa fa-check"></i><b>B.2.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.2.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods"><i class="fa fa-check"></i><b>B.2.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.2.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results"><i class="fa fa-check"></i><b>B.2.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="B-appendixB.html"><a href="B-appendixB.html#one-proportion"><i class="fa fa-check"></i><b>B.3</b> One proportion</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-1"><i class="fa fa-check"></i><b>B.3.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.3.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-1"><i class="fa fa-check"></i><b>B.3.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.3.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-1"><i class="fa fa-check"></i><b>B.3.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.3.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-1"><i class="fa fa-check"></i><b>B.3.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.3.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-1"><i class="fa fa-check"></i><b>B.3.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.3.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-1"><i class="fa fa-check"></i><b>B.3.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="B-appendixB.html"><a href="B-appendixB.html#two-proportions"><i class="fa fa-check"></i><b>B.4</b> Two proportions</a>
<ul>
<li class="chapter" data-level="B.4.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-2"><i class="fa fa-check"></i><b>B.4.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.4.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-2"><i class="fa fa-check"></i><b>B.4.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.4.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-2"><i class="fa fa-check"></i><b>B.4.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.4.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-2"><i class="fa fa-check"></i><b>B.4.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.4.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-2"><i class="fa fa-check"></i><b>B.4.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.4.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-2"><i class="fa fa-check"></i><b>B.4.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.4.7" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-2"><i class="fa fa-check"></i><b>B.4.7</b> State conclusion</a></li>
<li class="chapter" data-level="B.4.8" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-2"><i class="fa fa-check"></i><b>B.4.8</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-independent-samples"><i class="fa fa-check"></i><b>B.5</b> Two means (independent samples)</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-3"><i class="fa fa-check"></i><b>B.5.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.5.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-3"><i class="fa fa-check"></i><b>B.5.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.5.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-3"><i class="fa fa-check"></i><b>B.5.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.5.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-3"><i class="fa fa-check"></i><b>B.5.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.5.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-3"><i class="fa fa-check"></i><b>B.5.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.5.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-3"><i class="fa fa-check"></i><b>B.5.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.5.7" data-path="B-appendixB.html"><a href="B-appendixB.html#compute-p-value-1"><i class="fa fa-check"></i><b>B.5.7</b> Compute <span class="math inline">\(p\)</span>-value</a></li>
<li class="chapter" data-level="B.5.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-3"><i class="fa fa-check"></i><b>B.5.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.5.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-3"><i class="fa fa-check"></i><b>B.5.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-paired-samples"><i class="fa fa-check"></i><b>B.6</b> Two means (paired samples)</a>
<ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-4"><i class="fa fa-check"></i>Problem statement</a></li>
<li class="chapter" data-level="B.6.1" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-4"><i class="fa fa-check"></i><b>B.6.1</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.6.2" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-4"><i class="fa fa-check"></i><b>B.6.2</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.6.3" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-4"><i class="fa fa-check"></i><b>B.6.3</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.6.4" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-4"><i class="fa fa-check"></i><b>B.6.4</b> Traditional methods</a></li>
<li class="chapter" data-level="B.6.5" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-4"><i class="fa fa-check"></i><b>B.6.5</b> Comparing results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-appendixC.html"><a href="C-appendixC.html"><i class="fa fa-check"></i><b>C</b> Tips and Tricks</a>
<ul>
<li class="chapter" data-level="" data-path="C-appendixC.html"><a href="C-appendixC.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="C.1" data-path="C-appendixC.html"><a href="C-appendixC.html#data-wrangling"><i class="fa fa-check"></i><b>C.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-missing-values"><i class="fa fa-check"></i><b>C.1.1</b> Dealing with missing values</a></li>
<li class="chapter" data-level="C.1.2" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-reordering-bars"><i class="fa fa-check"></i><b>C.1.2</b> Reordering bars in a barplot</a></li>
<li class="chapter" data-level="C.1.3" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-money-on-axis"><i class="fa fa-check"></i><b>C.1.3</b> Showing money on an axis</a></li>
<li class="chapter" data-level="C.1.4" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-changing-values"><i class="fa fa-check"></i><b>C.1.4</b> Changing values inside cells</a></li>
<li class="chapter" data-level="C.1.5" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-convert-numerical-categorical"><i class="fa fa-check"></i><b>C.1.5</b> Converting a numerical variable to a categorical one</a></li>
<li class="chapter" data-level="C.1.6" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-prop"><i class="fa fa-check"></i><b>C.1.6</b> Computing proportions</a></li>
<li class="chapter" data-level="C.1.7" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-commas"><i class="fa fa-check"></i><b>C.1.7</b> Dealing with %, commas, and $</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-graphics"><i class="fa fa-check"></i><b>C.2</b> Interactive graphics</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-linegraphs"><i class="fa fa-check"></i><b>C.2.1</b> Interactive linegraphs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="D-appendixD.html"><a href="D-appendixD.html"><i class="fa fa-check"></i><b>D</b> Learning Check Solutions</a>
<ul>
<li class="chapter" data-level="D.1" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-1-solutions"><i class="fa fa-check"></i><b>D.1</b> Chapter 1 Solutions</a></li>
<li class="chapter" data-level="D.2" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-2-solutions"><i class="fa fa-check"></i><b>D.2</b> Chapter 2 Solutions</a></li>
<li class="chapter" data-level="D.3" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-3-solutions"><i class="fa fa-check"></i><b>D.3</b> Chapter 3 Solutions</a></li>
<li class="chapter" data-level="D.4" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-4-solutions"><i class="fa fa-check"></i><b>D.4</b> Chapter 4 Solutions</a></li>
<li class="chapter" data-level="D.5" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-5-solutions"><i class="fa fa-check"></i><b>D.5</b> Chapter 5 Solutions</a></li>
<li class="chapter" data-level="D.6" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-6-solutions"><i class="fa fa-check"></i><b>D.6</b> Chapter 6 Solutions</a></li>
<li class="chapter" data-level="D.7" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-7-solutions"><i class="fa fa-check"></i><b>D.7</b> Chapter 7 Solutions</a></li>
<li class="chapter" data-level="D.8" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-8-solutions"><i class="fa fa-check"></i><b>D.8</b> Chapter 8 Solutions</a></li>
<li class="chapter" data-level="D.9" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-9-solutions"><i class="fa fa-check"></i><b>D.9</b> Chapter 9 Solutions</a></li>
<li class="chapter" data-level="D.10" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-10-solutions"><i class="fa fa-check"></i><b>D.10</b> Chapter 10 Solutions</a></li>
<li class="chapter" data-level="D.11" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-11-solutions"><i class="fa fa-check"></i><b>D.11</b> Chapter 11 Solutions</a></li>
<li class="chapter" data-level="D.12" data-path="D-appendixD.html"><a href="D-appendixD.html#appendix-a2-solutions"><i class="fa fa-check"></i><b>D.12</b> Appendix A2 Solutions</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="E-appendixE.html"><a href="E-appendixE.html"><i class="fa fa-check"></i><b>E</b> Versions of R Packages Used</a></li>
<li class="chapter" data-level="F" data-path="F-appendixF.html"><a href="F-appendixF.html"><i class="fa fa-check"></i><b>F</b> Archive HR datasets</a>
<ul>
<li class="chapter" data-level="F.1" data-path="F-appendixF.html"><a href="F-appendixF.html#gender_pay_gap"><i class="fa fa-check"></i><b>F.1</b> Gender Pay Gap</a></li>
<li class="chapter" data-level="F.2" data-path="F-appendixF.html"><a href="F-appendixF.html#overhead"><i class="fa fa-check"></i><b>F.2</b> Overhead value analysis</a></li>
<li class="chapter" data-level="F.3" data-path="F-appendixF.html"><a href="F-appendixF.html#service_desk_data"><i class="fa fa-check"></i><b>F.3</b> HR Service Desk</a></li>
<li class="chapter" data-level="F.4" data-path="F-appendixF.html"><a href="F-appendixF.html#HRrecruitment"><i class="fa fa-check"></i><b>F.4</b> HR recruitment, selection and performance data</a></li>
<li class="chapter" data-level="F.5" data-path="F-appendixF.html"><a href="F-appendixF.html#job-classification-1"><i class="fa fa-check"></i><b>F.5</b> Job classification</a></li>
<li class="chapter" data-level="F.6" data-path="F-appendixF.html"><a href="F-appendixF.html#absenteeism-at-work"><i class="fa fa-check"></i><b>F.6</b> Absenteeism at work</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HR Analytics in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='images/hranalytics.jpg' alt="HRAnalytics">
</html>
<div id="masking-data" class="section level1" number="21">
<h1><span class="header-section-number">Chapter 21</span> Masking HR data</h1>
<p>In the toolbox of every HR Analytics expert, the ability to quickly anonymize data for test and development environments finds an important place. Surely you want to be able to protect confidential data from inappropriate views.</p>
<p>Ensure all needed libraries are installed</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="21-masking-data.html#cb675-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb675-2"><a href="21-masking-data.html#cb675-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randNames)</span>
<span id="cb675-3"><a href="21-masking-data.html#cb675-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(smoothmest)</span></code></pre></div>
<div id="whitehouse-dataset" class="section level3" number="21.0.1">
<h3><span class="header-section-number">21.0.1</span> Whitehouse dataset</h3>
<p>Load a data set with first and last names and let us preview the dataset</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="21-masking-data.html#cb676-1" aria-hidden="true" tabindex="-1"></a>whitehouse <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://hranalytics.netlify.com/data/2016-Report-White-House-Staff.csv&quot;</span>)</span></code></pre></div>
<p>Let us replace original names with fake names</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="21-masking-data.html#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a set of new names of equal length as the original dataset</span></span>
<span id="cb677-2"><a href="21-masking-data.html#cb677-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-3"><a href="21-masking-data.html#cb677-3" aria-hidden="true" tabindex="-1"></a>fake <span class="ot">&lt;-</span> <span class="fu">nrow</span>(whitehouse) <span class="sc">%&gt;%</span></span>
<span id="cb677-4"><a href="21-masking-data.html#cb677-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rand_names</span> (<span class="at">nat=</span><span class="st">&quot;US&quot;</span>)</span>
<span id="cb677-5"><a href="21-masking-data.html#cb677-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-6"><a href="21-masking-data.html#cb677-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Function to capitalise the first letter</span></span>
<span id="cb677-7"><a href="21-masking-data.html#cb677-7" aria-hidden="true" tabindex="-1"></a>firstup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb677-8"><a href="21-masking-data.html#cb677-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb677-9"><a href="21-masking-data.html#cb677-9" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb677-10"><a href="21-masking-data.html#cb677-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb677-11"><a href="21-masking-data.html#cb677-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-12"><a href="21-masking-data.html#cb677-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a dataframe without the original names columns</span></span>
<span id="cb677-13"><a href="21-masking-data.html#cb677-13" aria-hidden="true" tabindex="-1"></a>whitehouse_with_no_names <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(whitehouse, <span class="sc">-</span>Name)</span>
<span id="cb677-14"><a href="21-masking-data.html#cb677-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-15"><a href="21-masking-data.html#cb677-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a column of fake last and first names</span></span>
<span id="cb677-16"><a href="21-masking-data.html#cb677-16" aria-hidden="true" tabindex="-1"></a>fake<span class="sc">$</span>newnames <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">firstup</span>(fake<span class="sc">$</span>name.last), <span class="st">&quot;, &quot;</span>, <span class="fu">firstup</span>(fake<span class="sc">$</span>name.first))</span>
<span id="cb677-17"><a href="21-masking-data.html#cb677-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-18"><a href="21-masking-data.html#cb677-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a column of fake last and first names of exactly the length of the data frame without the original names</span></span>
<span id="cb677-19"><a href="21-masking-data.html#cb677-19" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> fake[<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(whitehouse_with_no_names),]</span>
<span id="cb677-20"><a href="21-masking-data.html#cb677-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-21"><a href="21-masking-data.html#cb677-21" aria-hidden="true" tabindex="-1"></a><span class="co">#Bind the dataset without names with the new dataset containing fake names</span></span>
<span id="cb677-22"><a href="21-masking-data.html#cb677-22" aria-hidden="true" tabindex="-1"></a>whitehouse_masked <span class="ot">&lt;-</span> <span class="fu">cbind</span>(result<span class="sc">$</span>newnames, whitehouse_with_no_names)</span>
<span id="cb677-23"><a href="21-masking-data.html#cb677-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-24"><a href="21-masking-data.html#cb677-24" aria-hidden="true" tabindex="-1"></a><span class="co">#Rename the column title to &quot;Name&quot;</span></span>
<span id="cb677-25"><a href="21-masking-data.html#cb677-25" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(whitehouse_masked)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Name&quot;</span></span></code></pre></div>
<p>Let us replace original names with random numbers</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="21-masking-data.html#cb678-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for reproducibility of the random numbers</span></span>
<span id="cb678-2"><a href="21-masking-data.html#cb678-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb678-3"><a href="21-masking-data.html#cb678-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb678-4"><a href="21-masking-data.html#cb678-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace names with random numbers from 1 to 1000</span></span>
<span id="cb678-5"><a href="21-masking-data.html#cb678-5" aria-hidden="true" tabindex="-1"></a>whitehouse_no_names <span class="ot">&lt;-</span> whitehouse_masked <span class="sc">%&gt;%</span></span>
<span id="cb678-6"><a href="21-masking-data.html#cb678-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Name =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="fu">nrow</span>(whitehouse_masked)))</span></code></pre></div>
<p>Let us anonymise the salary data</p>
<p>We can use four different methods to anonymise data:
* Rounding Salary to the nearest ten thousand
* Top coding consists of bringing data to an upper limit.
* Bottom coding consists of bringing data to a lower limit.</p>
<p>In data analysis exists various types of transformations, reciprocal, logarithm, cube root, square root and square, however in the following we will demonstrate only the square root transformation.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="21-masking-data.html#cb679-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rounding Salary to the nearest ten thousand</span></span>
<span id="cb679-2"><a href="21-masking-data.html#cb679-2" aria-hidden="true" tabindex="-1"></a>whitehouse_no_identifiers <span class="ot">&lt;-</span> whitehouse_no_names <span class="sc">%&gt;%</span></span>
<span id="cb679-3"><a href="21-masking-data.html#cb679-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salary =</span> <span class="fu">round</span>(Salary, <span class="at">digits =</span> <span class="sc">-</span><span class="dv">4</span>))</span>
<span id="cb679-4"><a href="21-masking-data.html#cb679-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb679-5"><a href="21-masking-data.html#cb679-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Top coding convert the salaries into three categories</span></span>
<span id="cb679-6"><a href="21-masking-data.html#cb679-6" aria-hidden="true" tabindex="-1"></a>whitehouse.gen <span class="ot">&lt;-</span> whitehouse_masked <span class="sc">%&gt;%</span></span>
<span id="cb679-7"><a href="21-masking-data.html#cb679-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salary =</span> <span class="fu">ifelse</span>(Salary <span class="sc">&lt;</span> <span class="dv">50000</span>, <span class="dv">0</span>, </span>
<span id="cb679-8"><a href="21-masking-data.html#cb679-8" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">ifelse</span>(Salary <span class="sc">&gt;=</span> <span class="dv">50000</span> <span class="sc">&amp;</span> Salary <span class="sc">&lt;</span> <span class="dv">100000</span>, <span class="dv">1</span>, <span class="dv">2</span>)))</span>
<span id="cb679-9"><a href="21-masking-data.html#cb679-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb679-10"><a href="21-masking-data.html#cb679-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom Coding</span></span>
<span id="cb679-11"><a href="21-masking-data.html#cb679-11" aria-hidden="true" tabindex="-1"></a>whitehouse.bottom <span class="ot">&lt;-</span> whitehouse_masked <span class="sc">%&gt;%</span></span>
<span id="cb679-12"><a href="21-masking-data.html#cb679-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salary =</span> <span class="fu">ifelse</span>(Salary<span class="sc">&lt;=</span><span class="dv">45000</span>, <span class="dv">45000</span>, Salary))</span></code></pre></div>
</div>
<div id="fertility-dataset" class="section level3" number="21.0.2">
<h3><span class="header-section-number">21.0.2</span> Fertility dataset</h3>
<p>Let us explore deeper anonymisation option of generating synthetic data. We will do on the basis of the fertility dataset available from UCI website:
<a href="https://archive.ics.uci.edu/ml/datasets/Fertility" class="uri">https://archive.ics.uci.edu/ml/datasets/Fertility</a></p>
<div class="figure">
<img src="images/UCI_logo.png" alt="" />
<p class="caption">UCI logo</p>
</div>
<p>It needs to be loaded first and let us preview it.</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="21-masking-data.html#cb680-1" aria-hidden="true" tabindex="-1"></a>fertility <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://https://hranalytics.netlify.com/data/fertility_Diagnosis.txt&quot;</span>, <span class="at">col_names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="21-masking-data.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let us assign significant column titles</span></span>
<span id="cb681-2"><a href="21-masking-data.html#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(fertility) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Season&quot;</span>, <span class="st">&quot;Age&quot;</span>, <span class="st">&quot;Child_Disease&quot;</span>, <span class="st">&quot;Accident_Trauma&quot;</span>, <span class="st">&quot;Surgical_Intervention&quot;</span>,<span class="st">&quot;High_Fevers&quot;</span>, <span class="st">&quot;Alcohol_Consumption&quot;</span>,<span class="st">&quot;Smoking_Habit&quot;</span>,<span class="st">&quot;Hours_Sitting&quot;</span>,<span class="st">&quot;Diagnosis&quot;</span>)</span>
<span id="cb681-3"><a href="21-masking-data.html#cb681-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-4"><a href="21-masking-data.html#cb681-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View fertility data</span></span>
<span id="cb681-5"><a href="21-masking-data.html#cb681-5" aria-hidden="true" tabindex="-1"></a>fertility</span></code></pre></div>
<pre><code># A tibble: 100 x 10
   Season     Age Child_Disease Accident_Trauma Surgical_Interv~ High_Fevers
    &lt;dbl&gt;   &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;       &lt;dbl&gt;
 1  -0.33 0.69000             0               1                1           0
 2  -0.33 0.94                1               0                1           0
 3  -0.33 0.5                 1               0                0           0
 4  -0.33 0.75                0               1                1           0
 5  -0.33 0.67                1               1                0           0
 6  -0.33 0.67                1               0                1           0
 7  -0.33 0.67                0               0                0          -1
 8  -0.33 1                   1               1                1           0
 9   1    0.64                0               0                1           0
10   1    0.61                1               0                0           0
# ... with 90 more rows, and 4 more variables: Alcohol_Consumption &lt;dbl&gt;,
#   Smoking_Habit &lt;dbl&gt;, Hours_Sitting &lt;dbl&gt;, Diagnosis &lt;chr&gt;</code></pre>
<p>Let us examine the dataset.</p>
<p>More on the data attributes is availalble here:
<a href="https://archive.ics.uci.edu/ml/datasets/Fertility" class="uri">https://archive.ics.uci.edu/ml/datasets/Fertility</a></p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="21-masking-data.html#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of participants with Surgical_Intervention and Diagnosis</span></span>
<span id="cb683-2"><a href="21-masking-data.html#cb683-2" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb683-3"><a href="21-masking-data.html#cb683-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diagnosis) <span class="sc">%&gt;%</span></span>
<span id="cb683-4"><a href="21-masking-data.html#cb683-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Surgical_Intervention), sum)</span></code></pre></div>
<pre><code># A tibble: 2 x 2
  Diagnosis Surgical_Intervention
  &lt;chr&gt;                     &lt;dbl&gt;
1 N                            44
2 O                             7</code></pre>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="21-masking-data.html#cb685-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of participants with Surgical_Intervention and Diagnosis</span></span>
<span id="cb685-2"><a href="21-masking-data.html#cb685-2" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb685-3"><a href="21-masking-data.html#cb685-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Age), <span class="fu">funs</span>(mean, sd))</span></code></pre></div>
<pre><code># A tibble: 1 x 2
   mean       sd
  &lt;dbl&gt;    &lt;dbl&gt;
1 0.669 0.121319</code></pre>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="21-masking-data.html#cb687-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts of the Groups in High_Fevers</span></span>
<span id="cb687-2"><a href="21-masking-data.html#cb687-2" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb687-3"><a href="21-masking-data.html#cb687-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(High_Fevers)</span></code></pre></div>
<pre><code># A tibble: 3 x 2
  High_Fevers     n
        &lt;dbl&gt; &lt;int&gt;
1          -1     9
2           0    63
3           1    28</code></pre>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="21-masking-data.html#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts of the Groups in Child_Disease and Accident_Trauma </span></span>
<span id="cb689-2"><a href="21-masking-data.html#cb689-2" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb689-3"><a href="21-masking-data.html#cb689-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Child_Disease,Accident_Trauma)</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  Child_Disease Accident_Trauma     n
          &lt;dbl&gt;           &lt;dbl&gt; &lt;int&gt;
1             0               0    10
2             0               1     3
3             1               0    46
4             1               1    41</code></pre>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="21-masking-data.html#cb691-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average of Child_Disease</span></span>
<span id="cb691-2"><a href="21-masking-data.html#cb691-2" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb691-3"><a href="21-masking-data.html#cb691-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Child_Disease), mean)</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  Child_Disease
          &lt;dbl&gt;
1          0.87</code></pre>
<p>In the following we will generate synthetic data sampling from a normal distribution through the subsequent steps:
1. First create a new dataset called “fert,” after applying a log transformation on the hours sitting variable.
2. Calculate the average and the standard deviation
3. Set a seed for reproducibility
4. Generate new data normally distributed for the hours sitting variable
5. Retransform back the log variable using exponential.
6. Hard bound data not falling in the right range
7. Recheck the range.
8. Substitute the synthtic data back into the initial fert dataset.</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="21-masking-data.html#cb693-1" aria-hidden="true" tabindex="-1"></a>fert <span class="ot">&lt;-</span> fertility <span class="sc">%&gt;%</span></span>
<span id="cb693-2"><a href="21-masking-data.html#cb693-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Hours_Sitting =</span> <span class="fu">log</span>(Hours_Sitting))</span>
<span id="cb693-3"><a href="21-masking-data.html#cb693-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb693-4"><a href="21-masking-data.html#cb693-4" aria-hidden="true" tabindex="-1"></a>fert <span class="sc">%&gt;%</span></span>
<span id="cb693-5"><a href="21-masking-data.html#cb693-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Hours_Sitting), <span class="fu">funs</span>(mean, sd))</span></code></pre></div>
<pre><code># A tibble: 1 x 2
      mean       sd
     &lt;dbl&gt;    &lt;dbl&gt;
1 -1.01224 0.504779</code></pre>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb695-1"><a href="21-masking-data.html#cb695-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb695-2"><a href="21-masking-data.html#cb695-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb695-3"><a href="21-masking-data.html#cb695-3" aria-hidden="true" tabindex="-1"></a>hours.sit <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="sc">-</span><span class="fl">1.01</span>, <span class="fl">0.50</span>)</span>
<span id="cb695-4"><a href="21-masking-data.html#cb695-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb695-5"><a href="21-masking-data.html#cb695-5" aria-hidden="true" tabindex="-1"></a>hours.sit <span class="ot">&lt;-</span> <span class="fu">exp</span>(hours.sit)</span>
<span id="cb695-6"><a href="21-masking-data.html#cb695-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb695-7"><a href="21-masking-data.html#cb695-7" aria-hidden="true" tabindex="-1"></a>hours.sit[hours.sit <span class="sc">&lt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb695-8"><a href="21-masking-data.html#cb695-8" aria-hidden="true" tabindex="-1"></a>hours.sit[hours.sit <span class="sc">&gt;</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb695-9"><a href="21-masking-data.html#cb695-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb695-10"><a href="21-masking-data.html#cb695-10" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(hours.sit)</span></code></pre></div>
<pre><code>[1] 0.0815 1.0000</code></pre>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="21-masking-data.html#cb697-1" aria-hidden="true" tabindex="-1"></a>fert<span class="sc">$</span>Hours_Sitting <span class="ot">&lt;-</span> hours.sit</span></code></pre></div>
<p>In data analysis exists various types of transformations, reciprocal, logarithm, cube root, square root and square, however in the following we will demonstrate only the square root transformation.</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="21-masking-data.html#cb698-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Square root Transformation of Salary</span></span>
<span id="cb698-2"><a href="21-masking-data.html#cb698-2" aria-hidden="true" tabindex="-1"></a>whitehouse.salary <span class="ot">&lt;-</span> whitehouse_masked <span class="sc">%&gt;%</span></span>
<span id="cb698-3"><a href="21-masking-data.html#cb698-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salary =</span> <span class="fu">sqrt</span>(Salary))</span>
<span id="cb698-4"><a href="21-masking-data.html#cb698-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb698-5"><a href="21-masking-data.html#cb698-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean and standard deviation</span></span>
<span id="cb698-6"><a href="21-masking-data.html#cb698-6" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">&lt;-</span> whitehouse.salary <span class="sc">%&gt;%</span> </span>
<span id="cb698-7"><a href="21-masking-data.html#cb698-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Salary), <span class="fu">funs</span>(mean, sd))</span>
<span id="cb698-8"><a href="21-masking-data.html#cb698-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb698-9"><a href="21-masking-data.html#cb698-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate Synthetic data with the same mean and standard deviation</span></span>
<span id="cb698-10"><a href="21-masking-data.html#cb698-10" aria-hidden="true" tabindex="-1"></a>salary_transformed <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">nrow</span>(whitehouse_masked), <span class="fu">mean</span>(whitehouse.salary<span class="sc">$</span>Salary), <span class="fu">sd</span>(whitehouse.salary<span class="sc">$</span>Salary))</span>
<span id="cb698-11"><a href="21-masking-data.html#cb698-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb698-12"><a href="21-masking-data.html#cb698-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Power transformation</span></span>
<span id="cb698-13"><a href="21-masking-data.html#cb698-13" aria-hidden="true" tabindex="-1"></a>salary_original <span class="ot">&lt;-</span> salary_transformed<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb698-14"><a href="21-masking-data.html#cb698-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb698-15"><a href="21-masking-data.html#cb698-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Hard bound</span></span>
<span id="cb698-16"><a href="21-masking-data.html#cb698-16" aria-hidden="true" tabindex="-1"></a>salary <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(salary_original <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, salary_original)</span></code></pre></div>
<p>Let us introduce now the concept of differential privacy, a mathematical concept used by big names like Google, Census Bureau and Apple.
Why Differential Privacy? It quantifies the privacy loss via a privacy budget, called epsilon. It assumes the worst-case scenario about the data intruder. Smaller privacy budget means less information or a noiser answer, however epsilon cannot be zero or lower.</p>
<p>Global Sensitivity of Other Queries
n is total number of observations
a is the lower bound of the data
b is the upper bound of the data
Counting: 1
Proportion: 1 / n
Mean: (b - a) / n</p>
<p>small global sensitivity results in less noise
large global sensitivity results in more noise</p>
<p>Number of observations
n &lt;- nrow(fertility)</p>
<p>Global sensitivity of counts
gs.count &lt;- 1</p>
<p>Global sensitivity of proportions
gs.prop &lt;- 1/n</p>
<p>Lower bound
a &lt;- 0</p>
<p>Upper bound
b &lt;- 1</p>
<p>Global sensitivity of mean
gs.mean &lt;- (b - a) / n</p>
<p>Global sensitivity of proportions
gs.var &lt;- (b - a)^2 / n</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="21-masking-data.html#cb699-1" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb699-2"><a href="21-masking-data.html#cb699-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Child_Disease), sum)</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  Child_Disease
          &lt;dbl&gt;
1            87</code></pre>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="21-masking-data.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(smoothmest)</span>
<span id="cb701-2"><a href="21-masking-data.html#cb701-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb701-3"><a href="21-masking-data.html#cb701-3" aria-hidden="true" tabindex="-1"></a><span class="co">#rdoublex(draws, mean, shaping) </span></span>
<span id="cb701-4"><a href="21-masking-data.html#cb701-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb701-5"><a href="21-masking-data.html#cb701-5" aria-hidden="true" tabindex="-1"></a><span class="co">#rdoublex is a random number generator. It creates a vector of random numbers generated by the double exponential distribution.</span></span></code></pre></div>
<p>The double exponential distribution is also commonly referred to as the Laplace distribution. The following is the plot of the double exponential probability density function.</p>
<div class="figure">
<img src="images/dexpdf.png" alt="" />
<p class="caption">plot of double exponential probability density function</p>
</div>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="21-masking-data.html#cb702-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb702-2"><a href="21-masking-data.html#cb702-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb702-3"><a href="21-masking-data.html#cb702-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">87</span>, <span class="dv">1</span> <span class="sc">/</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>[1] 87</code></pre>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="21-masking-data.html#cb704-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 87.01983</span></span>
<span id="cb704-2"><a href="21-masking-data.html#cb704-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb704-3"><a href="21-masking-data.html#cb704-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)    </span>
<span id="cb704-4"><a href="21-masking-data.html#cb704-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">87</span>, <span class="dv">1</span> <span class="sc">/</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>[1] 85</code></pre>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="21-masking-data.html#cb706-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 88.98337</span></span></code></pre></div>
<p>Sequential Composition</p>
<p>Suppose a set of privacy mechanisms M are sequentially performed on a dataset, and each M provides the max epsilon privacy guarantee.</p>
<p>The sequential composition undertakes the privacy guarantee for a sequence of differentially private computations. When a set of randomized mechanisms has been performed sequentially on a dataset, the final privacy guarantee is determined by the summation of total privacy budgets.</p>
<p>The privacy budget must be divided by two.</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="21-masking-data.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Set Value of Epsilon</span></span>
<span id="cb707-2"><a href="21-masking-data.html#cb707-2" aria-hidden="true" tabindex="-1"></a>eps <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb707-3"><a href="21-masking-data.html#cb707-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb707-4"><a href="21-masking-data.html#cb707-4" aria-hidden="true" tabindex="-1"></a><span class="co"># GS of Mean and Variance</span></span>
<span id="cb707-5"><a href="21-masking-data.html#cb707-5" aria-hidden="true" tabindex="-1"></a>gs.mean <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb707-6"><a href="21-masking-data.html#cb707-6" aria-hidden="true" tabindex="-1"></a>gs.var <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb707-7"><a href="21-masking-data.html#cb707-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb707-8"><a href="21-masking-data.html#cb707-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the Laplace mechanism</span></span>
<span id="cb707-9"><a href="21-masking-data.html#cb707-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb707-10"><a href="21-masking-data.html#cb707-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="fl">0.41</span>, gs.mean <span class="sc">/</span> eps)</span></code></pre></div>
<pre><code>[1] 0.37</code></pre>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="21-masking-data.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 0.4496674</span></span>
<span id="cb709-2"><a href="21-masking-data.html#cb709-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="fl">0.19</span>, gs.var <span class="sc">/</span> eps)</span></code></pre></div>
<pre><code>[1] 0.247</code></pre>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="21-masking-data.html#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 0.2466982</span></span></code></pre></div>
<p>Parallel Composition</p>
<p>Suppose a set of privacy mechanisms M are sequentially performed on a dataset, and each M provides the sum epsilon privacy guarantee.</p>
<p>The sequential composition undertakes the privacy guarantee for a sequence of differentially private computations. When a set of randomized mechanisms has been performed sequentially on a dataset, the final privacy guarantee is determined by the summation of total privacy budgets.</p>
<p>The privacy budget does not need to be divided.
The query with the most epsilon is the budget for the data.</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="21-masking-data.html#cb712-1" aria-hidden="true" tabindex="-1"></a><span class="co">#High_Fevers and Mean of Hours_Sitting</span></span>
<span id="cb712-2"><a href="21-masking-data.html#cb712-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb712-3"><a href="21-masking-data.html#cb712-3" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb712-4"><a href="21-masking-data.html#cb712-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(High_Fevers <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb712-5"><a href="21-masking-data.html#cb712-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Hours_Sitting), mean)</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  Hours_Sitting
          &lt;dbl&gt;
1      0.393297</code></pre>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="21-masking-data.html#cb714-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Hours_Sitting 0.3932967</span></span>
<span id="cb714-2"><a href="21-masking-data.html#cb714-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb714-3"><a href="21-masking-data.html#cb714-3" aria-hidden="true" tabindex="-1"></a><span class="co"># No High_Fevers and Mean of Hours_Sitting</span></span>
<span id="cb714-4"><a href="21-masking-data.html#cb714-4" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb714-5"><a href="21-masking-data.html#cb714-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(High_Fevers <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb714-6"><a href="21-masking-data.html#cb714-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Hours_Sitting), mean)</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  Hours_Sitting
          &lt;dbl&gt;
1      0.543333</code></pre>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="21-masking-data.html#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Hours_Sitting 0.5433333</span></span>
<span id="cb716-2"><a href="21-masking-data.html#cb716-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb716-3"><a href="21-masking-data.html#cb716-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Set Value of Epsilon</span></span>
<span id="cb716-4"><a href="21-masking-data.html#cb716-4" aria-hidden="true" tabindex="-1"></a>eps <span class="ot">&lt;-</span> <span class="fl">0.1</span></span>
<span id="cb716-5"><a href="21-masking-data.html#cb716-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb716-6"><a href="21-masking-data.html#cb716-6" aria-hidden="true" tabindex="-1"></a><span class="co"># GS of mean for Hours_Sitting</span></span>
<span id="cb716-7"><a href="21-masking-data.html#cb716-7" aria-hidden="true" tabindex="-1"></a>gs.mean <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb716-8"><a href="21-masking-data.html#cb716-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb716-9"><a href="21-masking-data.html#cb716-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the Laplace mechanism</span></span>
<span id="cb716-10"><a href="21-masking-data.html#cb716-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb716-11"><a href="21-masking-data.html#cb716-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="fl">0.39</span>, gs.mean <span class="sc">/</span> eps)</span></code></pre></div>
<pre><code>[1] 0.37</code></pre>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="21-masking-data.html#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 0.4098337</span></span>
<span id="cb718-2"><a href="21-masking-data.html#cb718-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="fl">0.54</span>, gs.mean <span class="sc">/</span> eps)</span></code></pre></div>
<pre><code>[1] 0.568</code></pre>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="21-masking-data.html#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 0.5683491</span></span></code></pre></div>
<p>Prepping up data</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="21-masking-data.html#cb721-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set Value of Epsilon</span></span>
<span id="cb721-2"><a href="21-masking-data.html#cb721-2" aria-hidden="true" tabindex="-1"></a>eps <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb721-3"><a href="21-masking-data.html#cb721-3" aria-hidden="true" tabindex="-1"></a><span class="co"># GS of counts</span></span>
<span id="cb721-4"><a href="21-masking-data.html#cb721-4" aria-hidden="true" tabindex="-1"></a>gs.count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb721-5"><a href="21-masking-data.html#cb721-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb721-6"><a href="21-masking-data.html#cb721-6" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb721-7"><a href="21-masking-data.html#cb721-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Smoking_Habit)</span></code></pre></div>
<pre><code># A tibble: 3 x 2
  Smoking_Habit     n
          &lt;dbl&gt; &lt;int&gt;
1            -1    56
2             0    23
3             1    21</code></pre>
<div class="sourceCode" id="cb723"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb723-1"><a href="21-masking-data.html#cb723-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Smoking Count</span></span>
<span id="cb723-2"><a href="21-masking-data.html#cb723-2" aria-hidden="true" tabindex="-1"></a><span class="co">#-1      56</span></span>
<span id="cb723-3"><a href="21-masking-data.html#cb723-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 0      23</span></span>
<span id="cb723-4"><a href="21-masking-data.html#cb723-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1     21</span></span>
<span id="cb723-5"><a href="21-masking-data.html#cb723-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-6"><a href="21-masking-data.html#cb723-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Apply the Laplace mechanism</span></span>
<span id="cb723-7"><a href="21-masking-data.html#cb723-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb723-8"><a href="21-masking-data.html#cb723-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-9"><a href="21-masking-data.html#cb723-9" aria-hidden="true" tabindex="-1"></a>smoking1 <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">56</span>, gs.count <span class="sc">/</span> eps <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb723-10"><a href="21-masking-data.html#cb723-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>()</span>
<span id="cb723-11"><a href="21-masking-data.html#cb723-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-12"><a href="21-masking-data.html#cb723-12" aria-hidden="true" tabindex="-1"></a>smoking2 <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">23</span>, gs.count <span class="sc">/</span> eps <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb723-13"><a href="21-masking-data.html#cb723-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>()</span>
<span id="cb723-14"><a href="21-masking-data.html#cb723-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-15"><a href="21-masking-data.html#cb723-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Post-process based on previous queries</span></span>
<span id="cb723-16"><a href="21-masking-data.html#cb723-16" aria-hidden="true" tabindex="-1"></a>smoking3 <span class="ot">&lt;-</span> <span class="fu">nrow</span>(fertility) <span class="sc">-</span> smoking1 <span class="sc">-</span> smoking2</span>
<span id="cb723-17"><a href="21-masking-data.html#cb723-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-18"><a href="21-masking-data.html#cb723-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the noisy answers</span></span>
<span id="cb723-19"><a href="21-masking-data.html#cb723-19" aria-hidden="true" tabindex="-1"></a>smoking1</span></code></pre></div>
<pre><code>[1] 46</code></pre>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="21-masking-data.html#cb725-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 60</span></span>
<span id="cb725-2"><a href="21-masking-data.html#cb725-2" aria-hidden="true" tabindex="-1"></a>smoking2</span></code></pre></div>
<pre><code>[1] 37</code></pre>
<div class="sourceCode" id="cb727"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb727-1"><a href="21-masking-data.html#cb727-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 29</span></span>
<span id="cb727-2"><a href="21-masking-data.html#cb727-2" aria-hidden="true" tabindex="-1"></a>smoking3</span></code></pre></div>
<pre><code>[1] 17</code></pre>
<div class="sourceCode" id="cb729"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb729-1"><a href="21-masking-data.html#cb729-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 11</span></span></code></pre></div>
<p>Impossible and
Inconsistent Answers</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="21-masking-data.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set Value of Epsilon</span></span>
<span id="cb730-2"><a href="21-masking-data.html#cb730-2" aria-hidden="true" tabindex="-1"></a>eps <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb730-3"><a href="21-masking-data.html#cb730-3" aria-hidden="true" tabindex="-1"></a><span class="co"># GS of counts</span></span>
<span id="cb730-4"><a href="21-masking-data.html#cb730-4" aria-hidden="true" tabindex="-1"></a>gs.count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb730-5"><a href="21-masking-data.html#cb730-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb730-6"><a href="21-masking-data.html#cb730-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Display Participants with Abnormal Diagnosis</span></span>
<span id="cb730-7"><a href="21-masking-data.html#cb730-7" aria-hidden="true" tabindex="-1"></a>Number_abnormal <span class="ot">&lt;-</span> fertility <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Diagnosis<span class="sc">==</span><span class="st">&quot;O&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">sum_x1 =</span> <span class="fu">sum</span>(Diagnosis<span class="sc">==</span><span class="st">&quot;O&quot;</span>))</span>
<span id="cb730-8"><a href="21-masking-data.html#cb730-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb730-9"><a href="21-masking-data.html#cb730-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Negative Counts: Applying the Laplace mechanism</span></span>
<span id="cb730-10"><a href="21-masking-data.html#cb730-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the Laplace mechanism and set.seed(22)</span></span>
<span id="cb730-11"><a href="21-masking-data.html#cb730-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">22</span>)</span>
<span id="cb730-12"><a href="21-masking-data.html#cb730-12" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">12</span>, gs.count <span class="sc">/</span> eps) <span class="sc">%&gt;%</span></span>
<span id="cb730-13"><a href="21-masking-data.html#cb730-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>()</span></code></pre></div>
<pre><code>[1] -79</code></pre>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="21-masking-data.html#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] -79</span></span>
<span id="cb732-2"><a href="21-masking-data.html#cb732-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb732-3"><a href="21-masking-data.html#cb732-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the Laplace mechanism and set.seed(22)</span></span>
<span id="cb732-4"><a href="21-masking-data.html#cb732-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">22</span>)</span>
<span id="cb732-5"><a href="21-masking-data.html#cb732-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">12</span>, gs.count <span class="sc">/</span> eps) <span class="sc">%&gt;%</span></span>
<span id="cb732-6"><a href="21-masking-data.html#cb732-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>() <span class="sc">%&gt;%</span></span>
<span id="cb732-7"><a href="21-masking-data.html#cb732-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">max</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>[1] 0</code></pre>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="21-masking-data.html#cb734-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 0</span></span>
<span id="cb734-2"><a href="21-masking-data.html#cb734-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb734-3"><a href="21-masking-data.html#cb734-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Suppose we set a different seed</span></span>
<span id="cb734-4"><a href="21-masking-data.html#cb734-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)</span>
<span id="cb734-5"><a href="21-masking-data.html#cb734-5" aria-hidden="true" tabindex="-1"></a>noisy_answer <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">12</span>, gs.count <span class="sc">/</span> eps) <span class="sc">%&gt;%</span></span>
<span id="cb734-6"><a href="21-masking-data.html#cb734-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>() <span class="sc">%&gt;%</span></span>
<span id="cb734-7"><a href="21-masking-data.html#cb734-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">max</span>(<span class="dv">0</span>)</span>
<span id="cb734-8"><a href="21-masking-data.html#cb734-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb734-9"><a href="21-masking-data.html#cb734-9" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(fertility)</span>
<span id="cb734-10"><a href="21-masking-data.html#cb734-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb734-11"><a href="21-masking-data.html#cb734-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ifelse example</span></span>
<span id="cb734-12"><a href="21-masking-data.html#cb734-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(noisy_answer <span class="sc">&gt;</span> n, n, noisy_answer)</span></code></pre></div>
<pre><code>[1] 100</code></pre>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="21-masking-data.html#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 100</span></span>
<span id="cb736-2"><a href="21-masking-data.html#cb736-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb736-3"><a href="21-masking-data.html#cb736-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Normalising</span></span>
<span id="cb736-4"><a href="21-masking-data.html#cb736-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set Value of Epsilon</span></span>
<span id="cb736-5"><a href="21-masking-data.html#cb736-5" aria-hidden="true" tabindex="-1"></a>eps <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb736-6"><a href="21-masking-data.html#cb736-6" aria-hidden="true" tabindex="-1"></a><span class="co"># GS of Counts</span></span>
<span id="cb736-7"><a href="21-masking-data.html#cb736-7" aria-hidden="true" tabindex="-1"></a>gs.count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb736-8"><a href="21-masking-data.html#cb736-8" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">%&gt;%</span></span>
<span id="cb736-9"><a href="21-masking-data.html#cb736-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Smoking_Habit)</span></code></pre></div>
<pre><code># A tibble: 3 x 2
  Smoking_Habit     n
          &lt;dbl&gt; &lt;int&gt;
1            -1    56
2             0    23
3             1    21</code></pre>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="21-masking-data.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Smoking Count</span></span>
<span id="cb738-2"><a href="21-masking-data.html#cb738-2" aria-hidden="true" tabindex="-1"></a><span class="co"># -1     56</span></span>
<span id="cb738-3"><a href="21-masking-data.html#cb738-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  0     23</span></span>
<span id="cb738-4"><a href="21-masking-data.html#cb738-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  1     21</span></span>
<span id="cb738-5"><a href="21-masking-data.html#cb738-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb738-6"><a href="21-masking-data.html#cb738-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the Laplace mechanism and set.seed(42)</span></span>
<span id="cb738-7"><a href="21-masking-data.html#cb738-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb738-8"><a href="21-masking-data.html#cb738-8" aria-hidden="true" tabindex="-1"></a>smoking1 <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">56</span>, gs.count <span class="sc">/</span> eps <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb738-9"><a href="21-masking-data.html#cb738-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">max</span>(<span class="dv">0</span>)</span>
<span id="cb738-10"><a href="21-masking-data.html#cb738-10" aria-hidden="true" tabindex="-1"></a>smoking2 <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">23</span>, gs.count <span class="sc">/</span> eps <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb738-11"><a href="21-masking-data.html#cb738-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">max</span>(<span class="dv">0</span>)</span>
<span id="cb738-12"><a href="21-masking-data.html#cb738-12" aria-hidden="true" tabindex="-1"></a>smoking3 <span class="ot">&lt;-</span> <span class="fu">rdoublex</span>(<span class="dv">1</span>, <span class="dv">21</span>, gs.count <span class="sc">/</span> eps <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb738-13"><a href="21-masking-data.html#cb738-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">max</span>(<span class="dv">0</span>)</span>
<span id="cb738-14"><a href="21-masking-data.html#cb738-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb738-15"><a href="21-masking-data.html#cb738-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the noisy answers</span></span>
<span id="cb738-16"><a href="21-masking-data.html#cb738-16" aria-hidden="true" tabindex="-1"></a>smoking <span class="ot">&lt;-</span> <span class="fu">c</span>(smoking1, smoking2, smoking3)</span>
<span id="cb738-17"><a href="21-masking-data.html#cb738-17" aria-hidden="true" tabindex="-1"></a>smoking</span></code></pre></div>
<pre><code>[1] 46.1 37.2 44.7</code></pre>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="21-masking-data.html#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 65.91684 37.17455 0.00000</span></span>
<span id="cb740-2"><a href="21-masking-data.html#cb740-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb740-3"><a href="21-masking-data.html#cb740-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize smoking</span></span>
<span id="cb740-4"><a href="21-masking-data.html#cb740-4" aria-hidden="true" tabindex="-1"></a>normalized <span class="ot">&lt;-</span> (smoking<span class="sc">/</span><span class="fu">sum</span>(smoking)) <span class="sc">*</span> (<span class="fu">nrow</span>(fertility))</span>
<span id="cb740-5"><a href="21-masking-data.html#cb740-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb740-6"><a href="21-masking-data.html#cb740-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Round the values</span></span>
<span id="cb740-7"><a href="21-masking-data.html#cb740-7" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(normalized)</span></code></pre></div>
<pre><code>[1] 36 29 35</code></pre>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="21-masking-data.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] 64 36 0</span></span></code></pre></div>

</div>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://hranalytics-live.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="20-job-classification.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="22-absenteeism-MFG.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Hendrik147/HR_Analytics_in_R_book_v2/edit/master/19-masking-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
